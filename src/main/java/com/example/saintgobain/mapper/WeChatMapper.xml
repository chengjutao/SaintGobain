<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.example.saintgobain.mapper.WeChatMapper">
	<!-- 微信验证token是否存在 -->
	<select id="WeChatverify"
		parameterType="java.lang.String"
		resultType="java.lang.Integer">
		SELECT  count(*) FROM driver WHERE token = #{token}
	</select>
	<!-- 查询电话号码是否存在 -->
	<select id="verifyphone"
		parameterType="com.example.saintgobain.entity.DB_WeChat"
		resultType="java.util.Map">
		SELECT  * FROM driver WHERE phone = #{phone}
	</select>
	<!-- 保存登录信息 -->
	<insert id="insertdriver"
		parameterType="com.example.saintgobain.entity.DB_WeChat">
		insert into driver (
		token,
		phone
		)
		values(
		#{token},
		#{phone}
		)
	</insert>
	<!-- 修改登录信息 -->
	<update id="updatedriver"
		parameterType="com.example.saintgobain.entity.DB_WeChat">
		update driver set token = #{token} where phone = #{phone}
	</update>
	<!-- 查询司机是否存在 -->
	<select id="seldriver"
		parameterType="com.example.saintgobain.entity.DB_WeChat"
		resultType="java.util.Map">
		SELECT  * FROM driver WHERE phone = #{phone} and token = #{token}
	</select>
</mapper>